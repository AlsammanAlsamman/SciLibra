#:kivy 1.11.0
<MenuBar>:
    height: self.minimum_height
    orientation: 'vertical'
    size_hint: 1, None
    tree_view_drop: tree_view_drop
    ActionBar:
        size : root.width, 40
        pos: 0, root.height - self.height
        ActionView:
            use_separator: True
            ActionPrevious:
                title: 'Scientific Library'
                with_previous: False
                app_icon: 'icon.png'
            ActionOverflow:
            ActionButton:
                text: 'help'
                # open small dialog with help
                on_release: root.show_help()
            ActionButton:
                text: 'quit'
                on_release: app.stop()
            ActionButton:
                text: 'about'
                # create a dropdown menu
                # on_press: drop_content.open(self)
            ActionButton:
                text: 'Tree view'
                on_release: tree_view_drop.open(self)
                DropDown:
                    id: tree_view_drop
                    size_hint: None, None
            ActionButton:
                text: 'Load'
                on_release: root.show_load()

# create text input to show the information of the current selected article
<ArticleInfo>:
    # inherit from TextInput
    multiline: True
    readonly: True
    # lemon background
    background_color: 1, 1, 0.8, 1

<MainScreen>:
    cols: 1
    rows: 2
    article_info: article_info
    tree_view: tree_view
    menu_bar: menu_bar
    MenuBar:
        height: 40
        id: menu_bar
        pos: 0, root.height - self.height
    GridLayout:
        cols: 2
        rows: 1
        # BoxLayout:
        ScrollView:
            pos: 0, 0
            scroll_y: 0
            scroll_type: ['bars', 'content']
            TreeView:
                root_options: {'text': 'Articles'}
                id: tree_view
                height: self.minimum_height 
                size_hint_y: None
        GridLayout:
            cols: 1
            rows: 2
            ArticleInfo:
                id: article_info
                text: 'Please select an article'

<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser
            path: "/home/samman/Documents/MobileApplications/Learn/LibraryKivy"
            filters: ['*.bib', '*.txt']

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Load"
                on_release: root.load(filechooser.path, filechooser.selection)